---
title: '知识点自测速记之数据库基础'
---

> 这篇文章以问答的形式用于快速回顾知识点以及用于自测。  
> 因为知识点相当多，即使在看时能够理解记住，但过后也往往只是有印象，大概知道是什么东西，但想回答出来却总是卡壳，看了忘，忘了看。因此，这篇文章用于帮助速记回忆，自测时可以由这些点延伸。 
> 注：参考的主要是 Guide 哥的网站内容以及 chatGPT。



## 数据库基本概念

#### 什么是数据库、数据库管理系统、数据库系统、数据库管理员？
- 数据库 DB：信息的集合或者说数据库管理系统管理的数据的集合。
- 数据库管理系统 DBMS：一种操作和管理数据库的大型软件，通常用于建立、使用和维护数据库。
- 数据库管理员 DBA：负责全面管理和控制数据库系统的人员。
- 数据库系统 DBS：通常由软件、数据库、数据库管理员组成。

#### 什么是元组、码、候选码、主码、外码、主属性、非主属性？
- 元组：数据库中的每条记录或者说每一行就是一个元组，每一列就是一个属性。
- 码：码就是能唯一标识实体的一个属性，对应表中的列。
- 候选码：若关系中的某一属性或属性组的值能唯一的标识一个元组，而其任何、子集都不能再标识，则称该属性组为候选码。
- 主码：即主键。一个实体集中只能有一个主码，但可以有多个候选码。
- 外码：即外键。
- 主属性：候选码中出现过的属性称为主属性。
- 非主属性：不包含在任何一个候选码中的属性称为非主属性。

#### 什么是 ER 图？它包含了哪些要素？
ER 图全称是 Entity Relationship Diagram，实体联系图，提供了表示实体类型、属性和联系的方法。   

ER 图由3个要素组成：
- **实体**：通常是现实世界的业务对象。在 ER 图中，实体使用矩形框表示。
- **属性**：某个实体拥有的属性，用来描述组成实体的要素。在 ER 图中，使用椭圆形表示。
- **联系**：即实体与实体之间的关系，在 ER 图中使用菱形表示。这个关系不仅有业务关联关系，还能通过数字表示实体之间的数量对照关系。

#### 数据库范式了解吗？有哪些范式？
数据库范式有三种：
- 第一范式（1NF）：属性不可再分，这个字段只能是一个值，不能再分为多个其他字段，关系型数据库创建的表一定满足第一范式。
- 第二范式（2NF）：1NF 的基础之上，消除了非主属性对于码的部分函数依赖。
- 第三范式（3NF）：3NF 在 2NF 的基础之上，消除了非主属性对于码的传递函数依赖。

#### 什么是函数依赖？部分函数依赖？完全函数依赖？传递函数依赖？
- 函数依赖：若在一张表中，在属性（或属性组）X 的值确定的情况下，必定能确定属性 Y 的值，那么就可以说 Y 函数依赖于 X，写作 X->Y。
- 部分函数依赖：如果 X->Y，并且存在 X 的一个真子集 X0，使得 X0->Y，则称 Y 对 X 部分函数依赖。
- 完全函数依赖：在一个关系中，若某个非主属性数据项依赖于全部关键字，缺一个都不可以，称之为完全函数依赖。
- 传递函数依赖：若 X->Y，Y->Z，则称 Z 传递函数依赖于 X。传递函数依赖会导致数据冗余和异常。

#### 主键与外键有什么区别？
- 主键：主键用于唯一标识一个元组，不能有重复，不允许为空。一个表只能有一个主键。
- 外键：外键用来和其他表建立联系用，外键是另一张表的主键，外键可以有重复，可以是控制，一个表可以有多个外键。

#### 为什么不推荐使用外键与级联？
1. 增加了复杂性：一来每次 `delete` 或 `update` 都必须考虑外键约束；二来外键的主从关系是定的，如果需求变化后不需要和其他表有关联则会增添很多麻烦。
2. 增加了额外工作：数据库需要增加维护外键的工作。
3. 对分库分表不友好：分库分表下外键是无法生效的。

#### 什么是存储过程？它有哪些弊端？
存储过程是一系列 SQL 语句的集合，中间加了点逻辑控制语句。存储过程在业务比较复杂的时候是非常实用的，因为它方便调用，一旦调试完成通过后就能稳定运行，而且由于它是预编译过的，使用它比单纯 SQL 执行要快。   

存储过程在互联网公司应用不多，因为存储过程难以调试和扩展，而且没有移植性，还会消耗数据库资源。

#### drop、delete、truncate 的区别？
1. 用法不同：`drop` 是将整个表都删除掉；`truncate` 是清空表中数据，表结构没有变；`delete` 是删除表中某一行数据。
2. 属于不同的数据库语言：`drop` 和 `truncate` 属于 DDL（数据定义语言）语句，不能回滚；而 `delete` 是 DML（数据库操作语言）语句，这个操作会放到 rollback segment 中，事务提交后才生效。
3. 执行速度不同：`drop` > `truncate` > `delete`。

#### 数据库设计通常包括哪几步？
1. 需求分析：分析用户的需求，包括数据、功能和性能需求。
2. 概念结构设计：主要采用 E-R 模型进行设计，包括画 E-R 图。
3. 逻辑结构设计：通过将 E-R 图转换成表，实现从 E-R 模型到关系模型的转换。
4. 物理结构设计：主要是为所设计的数据库选择合适的存储结构和存取路径。
5. 数据库实施：包括编程、测试和试运行。
6. 数据库的运行和维护：系统的运行与数据库的日常维护。



## NoSQL 基础

#### NoSQL 是什么？
非关系型数据库，主要针对的是键值对、文档以及图形类型数据存储。

#### SQL 和 NoSQL 区别？
- **数据存储模型**：关系型数据库结构化存储，具有固定行和列的表格。非关系型数据库非结构化存储，有文档、键值、宽列、图等形式。
- **发展历程**：关系型数据库开发于1970年代，重点是减少数据重复。非关系型数据库开发于2000年代后期，重点是提升可扩展性，减少大规模数据的存储成本。
- **例子**：关系型数据库有 Oracle、MySQL、Microsoft SQL Server、PostgreSQL。非关系型数据库有 MongoDB、Redis、Cassandra、HBase 等。
- **ACID 属性**：关系型数据库提供 ACID 属性。非关系型数据库通常不支持 ACID 事务。
- **性能**：关系型数据库性能通常取决于磁盘子系统，要获得最佳性能，通常需要优化查询、索引和表结构。非关系型数据库性能通常由底层硬件集群大小、网络延迟以及调用应用程序来决定。
- **扩展**：关系型数据库垂直扩展（使用性能更强大的服务器进行扩展）、读写分离、分库分表。非关系型数据库横向扩展（增加服务器的方式横向扩展，通常是基于分片机制）。
- **查询语法**：关系型数据库使用结构化查询语言（SQL），非关系型数据库的数据访问语法可能因数据库而异。

#### NoSQL 数据库有什么优势？
- 灵活性：NoSQL 数据库通常提供灵活的架构，以实现更快速、更多的迭代开发。
- 可扩展性：横向扩展。
- 高性能：NoSQL 数据库针对特定的数据模型和访问模式进行了优化。
- 强大的功能：NoSQL 数据库提供功能强大的 API 和数据类型，专门针对其各自的数据模型而构建。

#### NoSQL 数据库有哪些类型？
- 键值：Redis
- 文档：MongoDB，文档数据库中的数据被存储在类似于 JSON（JavaScript 对象表示法）对象的文档中。
- 图形：图形数据库旨在轻松构建和运行与高度连接的数据集一起使用的应用程序。
- 宽列：宽列存储数据库非常适合需要存储大量的数据。



## SQL

#### SQL 语法结构？SQL 语法要点？

#### SQL 分类？

#### 增删改查（CRUD）

#### 排序？分组？

#### having 和 where 的区别？

#### 子查询是什么？

#### 连接是什么？它有哪些连接类型？where 和 on 的区别？

#### 组合是什么？

#### 以 MySQL 为例，有哪些函数？

#### 数据定义：数据库？

#### 数据定义：数据表？

#### 视图是什么？有什么用？

#### 索引是什么？有什么用？

#### 什么是约束？有哪些约束？

#### MySQL 中事务处理有哪些指令？

#### 权限控制有哪些指令？

#### 有哪些操作账户的方式？

#### 存储过程？存储过程好处与弊端？
存储过程是一系列 SQL 语句的集合，中间加了点逻辑控制语句。存储过程在业务比较复杂的时候是非常实用的，因为它方便调用，一旦调试完成通过后就能稳定运行，而且由于它是预编译过的，使用它比单纯 SQL 执行要快。   

存储过程在互联网公司应用不多，因为存储过程难以调试和扩展，而且没有移植性，还会消耗数据库资源。

#### 什么是游标？

#### 触发器是什么？触发器的优缺点？