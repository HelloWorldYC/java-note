<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Zookeeper | java</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/java-note/images/myfavicon.png">
    <meta name="description" content="java 学习笔记">
    
    <link rel="preload" href="/java-note/assets/css/0.styles.f5140cd9.css" as="style"><link rel="preload" href="/java-note/assets/js/app.b4e76d81.js" as="script"><link rel="preload" href="/java-note/assets/js/2.af1aff5f.js" as="script"><link rel="preload" href="/java-note/assets/js/1.b527e11e.js" as="script"><link rel="preload" href="/java-note/assets/js/64.47d66d8e.js" as="script"><link rel="prefetch" href="/java-note/assets/js/10.a284a5f0.js"><link rel="prefetch" href="/java-note/assets/js/11.63d78869.js"><link rel="prefetch" href="/java-note/assets/js/12.411148a2.js"><link rel="prefetch" href="/java-note/assets/js/13.a6d8e7b5.js"><link rel="prefetch" href="/java-note/assets/js/14.cde1b595.js"><link rel="prefetch" href="/java-note/assets/js/15.c815dbff.js"><link rel="prefetch" href="/java-note/assets/js/16.f89ca76d.js"><link rel="prefetch" href="/java-note/assets/js/17.b43ef999.js"><link rel="prefetch" href="/java-note/assets/js/18.f1ca2df4.js"><link rel="prefetch" href="/java-note/assets/js/19.d907bdbe.js"><link rel="prefetch" href="/java-note/assets/js/20.ba076c76.js"><link rel="prefetch" href="/java-note/assets/js/21.f7bf66e3.js"><link rel="prefetch" href="/java-note/assets/js/22.941a47dc.js"><link rel="prefetch" href="/java-note/assets/js/23.b9156e83.js"><link rel="prefetch" href="/java-note/assets/js/24.07b1cd92.js"><link rel="prefetch" href="/java-note/assets/js/25.5be29da5.js"><link rel="prefetch" href="/java-note/assets/js/26.2dd5fb9f.js"><link rel="prefetch" href="/java-note/assets/js/27.02358944.js"><link rel="prefetch" href="/java-note/assets/js/28.306847f8.js"><link rel="prefetch" href="/java-note/assets/js/29.270a4d53.js"><link rel="prefetch" href="/java-note/assets/js/3.313cba90.js"><link rel="prefetch" href="/java-note/assets/js/30.bfc6c248.js"><link rel="prefetch" href="/java-note/assets/js/31.fffd5f77.js"><link rel="prefetch" href="/java-note/assets/js/32.ac467fad.js"><link rel="prefetch" href="/java-note/assets/js/33.70479154.js"><link rel="prefetch" href="/java-note/assets/js/34.4e48aa0b.js"><link rel="prefetch" href="/java-note/assets/js/35.724f00a7.js"><link rel="prefetch" href="/java-note/assets/js/36.170daa7d.js"><link rel="prefetch" href="/java-note/assets/js/37.53f51c04.js"><link rel="prefetch" href="/java-note/assets/js/38.4e8ccf8d.js"><link rel="prefetch" href="/java-note/assets/js/39.4677e6bb.js"><link rel="prefetch" href="/java-note/assets/js/4.953ceea1.js"><link rel="prefetch" href="/java-note/assets/js/40.b55e76ef.js"><link rel="prefetch" href="/java-note/assets/js/41.fe541156.js"><link rel="prefetch" href="/java-note/assets/js/42.6f36570a.js"><link rel="prefetch" href="/java-note/assets/js/43.f7e4b8ba.js"><link rel="prefetch" href="/java-note/assets/js/44.668b7294.js"><link rel="prefetch" href="/java-note/assets/js/45.02de4e09.js"><link rel="prefetch" href="/java-note/assets/js/46.0b9a3a33.js"><link rel="prefetch" href="/java-note/assets/js/47.6978a7f4.js"><link rel="prefetch" href="/java-note/assets/js/48.036c9aa2.js"><link rel="prefetch" href="/java-note/assets/js/49.a77067f4.js"><link rel="prefetch" href="/java-note/assets/js/5.5d5d288a.js"><link rel="prefetch" href="/java-note/assets/js/50.50d9308b.js"><link rel="prefetch" href="/java-note/assets/js/51.f5490448.js"><link rel="prefetch" href="/java-note/assets/js/52.446d87e0.js"><link rel="prefetch" href="/java-note/assets/js/53.8779543f.js"><link rel="prefetch" href="/java-note/assets/js/54.94dc9f6f.js"><link rel="prefetch" href="/java-note/assets/js/55.8d7d0d45.js"><link rel="prefetch" href="/java-note/assets/js/56.69820a1b.js"><link rel="prefetch" href="/java-note/assets/js/57.fcaa4ea6.js"><link rel="prefetch" href="/java-note/assets/js/58.0fd49238.js"><link rel="prefetch" href="/java-note/assets/js/59.79c04a76.js"><link rel="prefetch" href="/java-note/assets/js/6.3c0fcba4.js"><link rel="prefetch" href="/java-note/assets/js/60.f35494a3.js"><link rel="prefetch" href="/java-note/assets/js/61.39888619.js"><link rel="prefetch" href="/java-note/assets/js/62.0d59237f.js"><link rel="prefetch" href="/java-note/assets/js/63.6d693cde.js"><link rel="prefetch" href="/java-note/assets/js/65.fbcd58d8.js"><link rel="prefetch" href="/java-note/assets/js/66.962b42b1.js"><link rel="prefetch" href="/java-note/assets/js/67.563f535c.js"><link rel="prefetch" href="/java-note/assets/js/68.0c74e1c4.js"><link rel="prefetch" href="/java-note/assets/js/69.242f9577.js"><link rel="prefetch" href="/java-note/assets/js/7.93de78a3.js"><link rel="prefetch" href="/java-note/assets/js/70.3a3fb003.js"><link rel="prefetch" href="/java-note/assets/js/vendors~docsearch.d01c1f3f.js">
    <link rel="stylesheet" href="/java-note/assets/css/0.styles.f5140cd9.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/java-note/" class="home-link router-link-active"><!----> <span class="site-name">java</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Java基础</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Java框架</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>校园信息交流平台项目</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>简易RPC框架项目</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/java-note/Java/简易RPC框架项目/RPC原理.html" class="sidebar-link">RPC原理</a></li><li><a href="/java-note/Java/简易RPC框架项目/Socket网络通信.html" class="sidebar-link">Socket网络通信</a></li><li><a href="/java-note/Java/简易RPC框架项目/Netty从入门到网络通信实战.html" class="sidebar-link">Netty从入门到网络通信实战</a></li><li><a href="/java-note/Java/简易RPC框架项目/项目网络传输模块细节.html" class="sidebar-link">项目网络传输模块细节</a></li><li><a href="/java-note/Java/简易RPC框架项目/项目注册中心模块细节.html" class="sidebar-link">项目注册中心模块细节</a></li><li><a href="/java-note/Java/简易RPC框架项目/Zookeeper.html" class="active sidebar-link">Zookeeper</a></li><li><a href="/java-note/Java/简易RPC框架项目/服务注册与消费细节.html" class="sidebar-link">服务注册与消费细节</a></li><li><a href="/java-note/Java/简易RPC框架项目/负载均衡细节.html" class="sidebar-link">负载均衡细节</a></li><li><a href="/java-note/Java/简易RPC框架项目/静态代理与动态代理.html" class="sidebar-link">静态代理与动态代理</a></li><li><a href="/java-note/Java/简易RPC框架项目/Docker.html" class="sidebar-link">Docker</a></li><li><a href="/java-note/Java/简易RPC框架项目/项目过程中遇到的bug.html" class="sidebar-link">项目过程中遇到的bug</a></li><li><a href="/java-note/Java/简易RPC框架项目/项目问题.html" class="sidebar-link">项目可能问的问题</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>内功</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>知识点自测速记</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="zookeeper-简介"><a href="#zookeeper-简介" class="header-anchor">#</a> Zookeeper 简介</h2> <p>ZooKeeper 是一个开源的分布式协调服务，它提供了一个高性能、高可用性的分布式环境下的协调服务平台。ZooKeeper 主要用于解决分布式系统中的一些共享资源管理和协调问题，其主要作用包括：</p> <ol><li>分布式锁：ZooKeeper 提供了分布式锁的机制，可以确保在分布式环境下的多个进程或线程之间的互斥访问。这样可以实现对共享资源的有序访问，避免并发冲突。</li> <li>配置管理：ZooKeeper 可以用于集中管理分布式系统中的配置信息。应用程序可以将配置信息存储在 ZooKeeper 的节点中，并监视这些节点的变化。当配置发生变化时，应用程序可以接收到通知并及时更新自身的配置。</li> <li>命名服务：ZooKeeper 可以用作分布式系统中的命名服务，提供统一的命名空间。应用程序可以将自己的服务注册到 ZooKeeper 的节点上，其他应用程序可以通过查询 ZooKeeper 获取到注册的服务信息，从而实现服务发现。</li> <li>分布式协调：ZooKeeper 提供了一些临时节点和有序节点的特性，可以用于实现分布式系统中的选举、协调和领导者选举等功能。应用程序可以基于这些特性构建更高层次的分布式协调机制。</li> <li>分布式队列：ZooKeeper 提供了有序节点的特性，可以用于实现分布式环境下的队列。多个客户端可以往同一个 ZooKeeper 节点下添加有序节点，每个节点代表一个任务或消息，按照节点的顺序进行处理。</li></ol> <p>总之，ZooKeeper 在分布式系统中起着重要的作用，用于解决分布式环境下的一致性、协调和共享资源管理的问题，帮助开发人员构建可靠的分布式应用程序。</p> <h3 id="zookeeper-中节点"><a href="#zookeeper-中节点" class="header-anchor">#</a> Zookeeper 中节点</h3> <p>在 ZooKeeper 中，每个节点（Node）表示一个层次结构中的一个路径或目录。每个节点可以包含数据和子节点。</p> <p>ZooKeeper 是一个分布式协调服务，用于管理和协调分布式系统中的数据和进程。它提供了一个类似于文件系统的层次结构，称为 ZooKeeper 树（ZooKeeper tree）。树中的每个节点都有一个唯一的路径，类似于文件系统中的路径。</p> <p>每个节点可以存储一个小的数据块，称为节点数据（Node Data）。节点数据通常是一个字节序列，可以存储任意类型的数据。除了节点数据，节点还可以具有子节点，这样就可以构建出复杂的层次结构。</p> <p>ZooKeeper 的节点被广泛用于分布式系统中的协调任务，例如选举、配置管理、分布式锁等。每个节点在 ZooKeeper 中都有一个唯一的路径，并通过路径进行访问和操作。这种层次结构的设计使得 ZooKeeper 能够有效地管理和维护分布式系统的状态和配置信息。</p> <h3 id="zookeeper-常用命令"><a href="#zookeeper-常用命令" class="header-anchor">#</a> Zookeeper 常用命令</h3> <ul><li><strong><code>help</code>：查看常用命令</strong></li> <li><strong><code>create</code>：创建节点</strong></li> <li><strong><code>set</code>：更新节点数据内容</strong></li> <li><strong><code>get</code>：获取节点的数据</strong></li> <li><strong><code>ls</code>：查看某个目录下的子节点</strong></li> <li><strong><code>stat</code>：查看节点状态</strong></li> <li><strong><code>ls2</code>：查看节点信息和状态，现已被弃用，改用 <code>ls -s path</code></strong></li> <li><strong><code>delete</code>：删除节点，前提是该节点必须无子节点</strong></li></ul> <h3 id="docker-运行-zookeeper-命令"><a href="#docker-运行-zookeeper-命令" class="header-anchor">#</a> docker 运行 Zookeeper 命令</h3> <ul><li>运行 Zookeeper：<code>docker run -d --name zookeeper -p 2181:2181 zookeeper:3.5.8</code></li> <li>进入 Zookeeper 容器：<code>docker exec -it [ContainerId] /bin/bash</code></li> <li>启动 Zookeeper：<code>./zkServer.sh start</code> 以及 <code>./zkServer.sh start-foreground</code></li> <li>查看 Zookeeper 状态：<code>./zkServer.sh status</code></li> <li>终止 Zookeeper：<code>./zkServer.sh stop</code></li> <li>启动默认的客户端实例：<code>./zkCli.sh</code></li></ul> <p>注意：zkCli.sh 是 ZooKeeper 提供的命令行客户端脚本，用于连接到运行中的 ZooKeeper 服务器，并与其进行交互。执行 ./zkCli.sh 命令时，它会启动一个 ZooKeeper 客户端，并提供一个命令行界面，以便可以输入命令来执行各种操作，如创建节点、读取节点数据、监视节点等。相当于开启了一个客户端实例。</p> <h2 id="curator-简介"><a href="#curator-简介" class="header-anchor">#</a> Curator 简介</h2> <p>Curator是一个用于 Apache ZooKeeper 的 Java 客户端库，它简化了与 ZooKeeper 的交互和开发。Curator 提供了一组易于使用的高级 API，用于处理 ZooKeeper 的常见任务和模式，同时还提供了一些额外的功能和工具。<br>
Curator的主要功能和特点包括：</p> <ol><li>连接管理：Curator 提供了一套连接管理机制，可以自动处理与 ZooKeeper 服务器的连接和重连，并提供了一些选项来优化连接的性能和稳定性。</li> <li>客户端操作：Curator 封装了一些常见的 ZooKeeper 操作，如创建节点、删除节点、获取节点数据、设置节点数据等。这些操作通过提供简洁的 API，使开发人员能够更容易地与 ZooKeeper 进行交互。</li> <li>客户端状态监听：Curator 允许注册监听器来监视 ZooKeeper 客户端的状态变化，例如连接状态、会话过期等。这样，开发人员可以根据需要在状态变化时采取相应的操作。</li> <li>分布式锁：Curator 提供了分布式锁的实现，包括共享锁（Shared Lock）和互斥锁（Mutex Lock）。这些锁可以用于协调分布式系统中的并发访问和资源管理。</li> <li>分布式队列：Curator 提供了分布式队列的实现，可以在 ZooKeeper 上创建队列，并支持在队列中添加和移除元素。</li> <li>分布式计数器：Curator 还提供了分布式计数器的实现，允许在多个客户端之间共享计数器，并进行原子递增和递减操作。</li></ol> <p>Curator 使得在 Java 应用程序中使用 ZooKeeper 变得更加方便和简化，提供了一些常用的模式和功能的抽象和封装。它可以帮助开发人员更高效地开发和管理基于 ZooKeeper 的分布式应用程序。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/java-note/Java/简易RPC框架项目/项目注册中心模块细节.html" class="prev">
        项目注册中心模块细节
      </a></span> <span class="next"><a href="/java-note/Java/简易RPC框架项目/服务注册与消费细节.html">
        服务注册与消费细节
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/java-note/assets/js/app.b4e76d81.js" defer></script><script src="/java-note/assets/js/2.af1aff5f.js" defer></script><script src="/java-note/assets/js/1.b527e11e.js" defer></script><script src="/java-note/assets/js/64.47d66d8e.js" defer></script>
  </body>
</html>
